<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Подготовка к тестам ПИ 24-21</title>
    <link rel="stylesheet" href="frontend/style.css">
</head>
<body>
    <div class="container">
        <div id="mainMenu" class="main-menu">
            <div class="menu-buttons">
                <button onclick="showSection('quiz')">Викторина</button>
                <button onclick="showSection('library')">Библиотека вопросов</button>
            </div>
        </div>

       <!-- В секции викторины (quizSection) добавляем: -->
<div id="quizSection" class="section" style="display: none;">
    <h2>Викторина</h2>
    <button class="back-btn" onclick="showSection('main')">← Назад</button>
    
    <!-- Добавляем выбор предмета и кнопку завершения -->
    <div class="quiz-controls">
        <select id="quizSubjectSelect" onchange="startQuiz()">
            <option value="all">Все предметы</option>
            <option value="philosophy">Философия</option>
            <option value="modularSubjects">Модульные предметы</option>
        </select>
        <button onclick="finishQuiz()" class="finish-btn">Завершить викторину</button>
    </div>

    <div id="quizContent" class="quiz-content">
        <p id="questionText" class="question-text"></p>
        <div id="optionsContainer" class="options-container"></div>
        <p id="resultMessage" class="result-message"></p>
        <button id="nextQuestion" class="next-btn" onclick="nextQuestion()">Следующий вопрос</button>
    </div>

    <!-- Добавляем контейнер для результатов -->
    <div id="quizResults" class="quiz-results" style="display: none;"></div>
</div>

<!-- В секции библиотеки (librarySection) добавляем улучшенные фильтры: -->
<div id="librarySection" class="section" style="display: none;">
    <h2>Библиотека вопросов</h2>
    <button class="back-btn" onclick="showSection('main')">← Назад</button><!-- В секции библиотеки (librarySection) -->
    <div class="filter-container">
        <div class="search-section">
            <input type="text" id="searchInput" placeholder="Поиск по вопросам...">
            <select id="subjectFilter">
                <option value="all">Все предметы</option>
                <option value="philosophy">Философия</option>
                <option value="modularSubjects">Модульные предметы</option>
            </select>
        </div>
        
        <button class="advanced-filters-toggle" onclick="toggleAdvancedFilters()">
            Расширенные фильтры ▼
        </button>
    
        <div class="advanced-filters" id="advancedFilters">
        
            <div class="filter-group">
                <h4>Сортировка по длине правильных ответов:</h4>
                <label>
                    <input type="radio" name="lengthFilter" value="none" checked> 
                    Без сортировки
                </label>
                <label>
                    <input type="radio" name="lengthFilter" value="correct_asc">
                    От коротких к длинным (правильные)
                </label>
                <label>
                    <input type="radio" name="lengthFilter" value="correct_desc">
                    От длинных к коротким (правильные)
                </label>
            </div>
    
            <div class="filter-group">
                <h4>Дополнительные фильтры:</h4>
                <label class="philosophy-only">
                    <input type="checkbox" id="romanFilter">
                    Вопросы с римскими цифрами (только философия)
                </label>
                <label>
                    <input type="checkbox" id="multipleAnswersFilter">
                    Вопросы с повторяющимися словами в вариантах
                </label>
                <div class="repeated-words-input">
                    <input type="text" 
                           id="repeatedWordsInput" 
                           placeholder="Введите слово для поиска повторений..."
                           disabled>
                </div>
                <label>
                    <input type="checkbox" id="numbersFilter">
                    Вопросы с числами в формулировке
                </label>
            </div>
        </div>
    </div></div></div>
    <div id="searchResults" class="search-results"></div>
</div>

<script src="frontend/questions/ModularSubjects.js"></script>
<script src="frontend/questions/Philosophy.js"></script>
<script src="frontend/script.js"></script>

</body>
</html>